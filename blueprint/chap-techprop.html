<!DOCTYPE html>
<html lang="en">
<head>
<script>
  MathJax = { 
    tex: {
		    inlineMath: [['$','$'], ['\\(','\\)']]
	} }
</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
<meta name="generator" content="plasTeX" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Deduction of main technical proposition</title>
<link rel="prev" href="chap-techlemmas.html" title="Technical Lemmas" />
<link rel="up" href="index.html" title="Unit Fractions" />
<link rel="stylesheet" href="styles/theme-blue.css" />
<link rel="stylesheet" href="styles/amsthm.css" />
<link rel="stylesheet" href="styles/showmore.css" />
<link rel="stylesheet" href="styles/stylecours.css" />
</head>

<body>
<header>
<svg  id="toc-toggle" class="icon icon-list-numbered "><use xlink:href="symbol-defs.svg#icon-list-numbered"></use></svg>
<h1 id="doc_title"><a href="index.html">Unit Fractions</a></h1>
</header>

<div class="wrapper">
<nav class="toc">
<ul class="sub-toc-0">
<li class="">
  <a href="sect0001.html"><span class="toc_ref"></span> <span class="toc_entry">Introduction</span></a>
 </li>
<li class="">
  <a href="chap-def.html"><span class="toc_ref">1</span> <span class="toc_entry">Definitions</span></a>
 </li>
<li class="">
  <a href="chap-basic.html"><span class="toc_ref">2</span> <span class="toc_entry">Basic Estimates</span></a>
 </li>
<li class="">
  <a href="chap-tech.html"><span class="toc_ref">3</span> <span class="toc_entry">Deduction of the main results</span></a>
  <span class="expand-toc">▶</span>
  <ul class="sub-toc-1">
     <li class="">
  <a href="chap-tech.html#a0000000003"><span class="toc_ref">3.1</span> <span class="toc_entry">Sieve Lemmas</span></a>
 </li>

  </ul>
 </li>
<li class="">
  <a href="chap-fourier.html"><span class="toc_ref">4</span> <span class="toc_entry">Fourier Analysis</span></a>
  <span class="expand-toc">▶</span>
  <ul class="sub-toc-1">
     <li class="">
  <a href="chap-fourier.html#a0000000004"><span class="toc_ref">4.1</span> <span class="toc_entry">Local definitions</span></a>
 </li>
<li class="">
  <a href="chap-fourier.html#a0000000005"><span class="toc_ref">4.2</span> <span class="toc_entry">Precursor general lemmas</span></a>
 </li>
<li class="">
  <a href="chap-fourier.html#a0000000006"><span class="toc_ref">4.3</span> <span class="toc_entry">Towards the main proposition</span></a>
 </li>

  </ul>
 </li>
<li class="">
  <a href="chap-techlemmas.html"><span class="toc_ref">5</span> <span class="toc_entry">Technical Lemmas</span></a>
 </li>
<li class=" active current">
  <a href="chap-techprop.html"><span class="toc_ref">6</span> <span class="toc_entry">Deduction of main technical proposition</span></a>
 </li>
<li ><a href="dep_graph_document.html">Dependency graph</a></li>
</ul>
</nav>

<div class="content">
<div class="content-wrapper">


<div class="main-text">
<h1 id="chap:techprop">6 Deduction of main technical proposition</h1>

<p><div class="lemma_thmwrapper" id="lem:find_multiples">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">6.1</span>
    ✓
    <div class="thm_icons">
    <a class="icon proof" href="chap-techprop.html#lem:find_multiples">#</a>
    <a class="icon proof" href="chap-techprop.html#a0000000199"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-def.html#def:interval_rare_ppowers">Definition 1.4</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L∃∀N</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/b-mehta/unit-fractions//blob/e90689f444730a64cbfa3972fa79075a0dd18981/src/aux_lemmas.lean#L2738">find_good_x</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>   Suppose \(N\) is sufficiently large and \(N\geq M\geq N^{1/2}\), and suppose that \(A\subset [M,N]\) is a set of integers such that </p>
<div class="displaymath" id="a0000000200">
  \[ \tfrac {99}{100}\log \log N\leq \omega (n)\leq 2\log \log N\quad \textrm{for all}\quad n\in A. \]
</div>
<p> Then for any interval of length \(\leq MN^{-2/(\log \log N)}\), if \(A_I\) is the set of those \(n\in A\) which divide some element of \(I\), for all \(q\in \mathcal{Q}_A\) such that \(R(A_I;q){\gt} 1/2(\log N)^{1/100}\) there exists some integer \(x_q\in I\) such that \(q\mid x_q\) and </p>
<div class="displaymath" id="a0000000201">
  \[ \sum _{\substack {r\mid x_q\\ r\in \mathcal{Q}_A}}\frac{1}{r}\geq 0.35\log \log N. \]
</div>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000199">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▼</span>
  </div>
  <div class="proof_content">
  <p> Let \(I\) be any interval of length \(\leq MN^{-2/(\log \log N)}\), and let \(q\in \mathcal{Q}_A\) such that \(R(A_I;q){\gt} 1/2(\log N)^{1/100}\). </p>
<p>Apply Lemma&#160;<a href="chap-techlemmas.html#lem:usingq">5.4</a> with \(A\) replaced by \(A_I\), and \(k=\frac{\log \log N}{\log 2+\log \log \log N}\), so that \((\log N)^{1/k}=2\log \log N\). We choose \(N\) large enough such that \(k\leq c\log \log N\) (where \(c\) is the constant in the statement of Lemma&#160;<a href="chap-techlemmas.html#lem:usingq">5.4</a>) and such that \(\log k\geq 5000\). </p>
<p>This produces some \(d_q\) such that \(qd_q{\gt}\left\lvert I\right\rvert \) and \(\omega (d_q){\lt}\tfrac {1}{1000}\log \log N\), and </p>
<div class="displaymath" id="a0000000202">
  \[ \sum _{\substack {n\in A_I\\ qd_q\mid n\\ (qd_q,n/qd_q)=1}}\frac{qd_q}{n}\gg \frac{1}{(\log N)^{1/100}(\log \log N)^2}\geq \frac{1}{(\log N)^{1/99}}, \]
</div>
<p> assuming \(N\) is sufficiently large. Let </p>
<div class="displaymath" id="a0000000203">
  \[ A_I^{(q)}=\{  n/qd_q : n\in A_I\textrm{ with }qd_q\mid n\textrm{ and }(qd_q,n/qd_q)=1\}  \]
</div>
<p> so that, the above inequality states that \(R(A_I^{(q)})\geq (\log N)^{-1/99}\). </p>
<p>We now claim that \(2\log \log N\geq \omega (m) \geq \tfrac {97}{99}\log \log N\) for all \(m\in A_I^{(q)}\). This follows from the trivial \(\omega (mqd_q)\geq \omega (m)\geq \omega (mqd_q)-\omega (qd_q)\), and that \(2\log \log N\geq \omega (mqd_q)\geq \frac{99}{100}\log \log N\) (since \(mqd_q\in A\)) and \(\omega (qd_q)\leq 1+\omega (d_q){\lt}\frac{1}{500}\log \log N\). </p>
<p>We now apply Lemma&#160;<a href="chap-techlemmas.html#lem:rtop">5.2</a> with \(\epsilon =2/99\). This implies that </p>
<div class="displaymath" id="a0000000204">
  \[ \sum _{r\in \mathcal{Q}_{A_I^{(q)}}}\frac{1}{r}\geq \frac{95}{99}e^{-1}\log \log N\geq 0.35\log \log N. \]
</div>
<p>By definition of \(A_I\), every \(n\in A_I\) with \(qd_q\mid n\) must divide some \(x\in I\), say \(x(n)\). We claim that \(x(n)=x(m)\) for all \(n,m\in A_I\) with \(qd_q\mid n\) and \(qd_q\mid m\). Otherwise \(\left\lvert x(q,n)-x(q,m)\right\rvert \) is a non-zero multiple of \(qd_q\), so \(\left\lvert I\right\rvert {\lt}qd_q\leq \left\lvert x(q,n)-x(q,m)\right\rvert \), which is an integer in \([1,\left\lvert I\right\rvert )\), a contradiction. </p>
<p>Let \(x_q\in I\) be such that \(x(q,n)=x_q\) for all \(n\in A_I\) with \(qd_q \mid n\). We claim that \(\mathcal{Q}_{A_I^{(q)}}\subset \{  r\in \mathcal{Q}_A : r\mid x_q\} \), which concludes the proof using the above bound. </p>
<p>If \(r\in \mathcal{Q}_{A_I^{(q)}}\) then there exists some \(m\in A_I^{(q)}\) such that \(r\mid m\) and \((r,m/r)=1\). Let \(m=n/qd_q\) where \(n\in A\) with \(qd_q\mid n\) and \((qd_q,n/qd_q)=(qd_q,m)=1\). Certainly \(r\mid n = mqd_q\), since \(r\mid m\). Furthermore, \(r\) is coprime to \(qd_q\) since \(r\) divides \(m\). Therefore \((r,n/r)=(r,(m/r)qd_q)=(r,m/r)=1\), and hence \(r\in \mathcal{Q}_A\). </p>
<p>Finally, we need to show that \(r\mid x_q\). Let \(m\in A_I^{(q)}\) be such that \(r\mid m\). Let \(n\in A_I\) be such that \(qd_q\mid n\) and \(m=n/qd_q\). Then \(r\mid n=mqd_q\), and hence since \(n\mid x_q\) we have \(r\mid x_q\) as required. </p>

  </div>
</div>
<p><div class="lemma_thmwrapper" id="lem:good_d">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">6.2</span>
    ✓
    <div class="thm_icons">
    <a class="icon proof" href="chap-techprop.html#lem:good_d">#</a>
    <a class="icon proof" href="chap-techprop.html#a0000000205"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-def.html#def:interval_rare_ppowers">Definition 1.4</a></li>
          <li><a href="chap-def.html#def:rec_sum_local">Definition 1.3</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L∃∀N</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/b-mehta/unit-fractions//blob/e90689f444730a64cbfa3972fa79075a0dd18981/src/main_results.lean#L27">good_d</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>   Suppose \(N\) is an integer and \(\delta ,M\in \mathbb {R}\). Suppose that \(A\subset [M,N]\) is a set of integers such that, for all \(q\in \mathcal{Q}_A\), </p>
<div class="displaymath" id="a0000000206">
  \[ R(A;q) \geq 2\delta , \]
</div>
<p> Then for any finite set of integers \(I\), for all \(q\in \mathcal{D}_I(A;\delta M)\), if \(A_I\) is the set of those \(n\in A\) that divide some element of \(I\), </p>
<div class="displaymath" id="a0000000207">
  \[ R(A_I;q){\gt} \delta . \]
</div>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000205">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▼</span>
  </div>
  <div class="proof_content">
  <p>For every \(q\in \mathcal{D}_I(A;\delta M)\), by definition, </p>
<div class="displaymath" id="a0000000208">
  \[ \# \{  n\in A_q : n\not\in A_I\}  {\lt} \frac{\delta M}{q}. \]
</div>
<p> Therefore </p>
<div class="displaymath" id="a0000000209">
  \[ R(A_I;q) = \sum _{\substack {n \in A_q\\ n\in A_I}}\frac{q}{n}{\gt} \sum _{n \in A_q}\frac{q}{n}-\frac{q}{M}\left( \frac{\delta M}{q}\right). \]
</div>
<div class="displaymath" id="a0000000210">
  \[ =R(A;q) - \delta \geq \delta . \]
</div>

  </div>
</div>
<p><div class="proposition_thmwrapper" id="prop:tech_iterative">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">6.3</span>
    ✓
    <div class="thm_icons">
    <a class="icon proof" href="chap-techprop.html#prop:tech_iterative">#</a>
    <a class="icon proof" href="chap-techprop.html#a0000000211"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal lean">L∃∀N</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/b-mehta/unit-fractions//blob/e90689f444730a64cbfa3972fa79075a0dd18981/src/main_results.lean#L107">force_good_properties</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="proposition_thmcontent">
  <p>  Suppose \(N\) is sufficiently large and \(N\geq M\geq N^{1/2}\), and suppose that \(A\subset [M,N]\) is a set of integers such that </p>
<div class="displaymath" id="a0000000212">
  \[ \tfrac {99}{100}\log \log N\leq \omega (n)\leq 2\log \log N\quad \textrm{for all}\quad n\in A, \]
</div>
<div class="displaymath" id="a0000000213">
  \[ R(A)\geq (\log N)^{-1/101} \]
</div>
<p> and, for all \(q\in \mathcal{Q}_A\), </p>
<div class="displaymath" id="a0000000214">
  \[ R(A;q) \geq (\log N)^{-1/100}. \]
</div>
<p> Then either </p>
<ol class="enumerate">
  <li><p>there is some \(B\subset A\) such that \(R(B)\geq \tfrac {1}{3}R(A)\) and </p>
<div class="displaymath" id="a0000000215">
  \[ \sum _{q\in \mathcal{Q}_{B}}\frac{1}{q}\leq \frac{2}{3}\log \log N, \]
</div>
<p> or </p>
</li>
  <li><p>for any interval of length \(\leq MN^{-2/(\log \log N)}\), either </p>
<ol class="enumerate">
  <li><div class="displaymath" id="a0000000216">
  \[ \#  \{  n\in A : \textrm{no element of }I\textrm{ is divisible by }n\} \geq M/\log N, \]
</div>
<p> or </p>
</li>
  <li><p>there is some \(x\in I\) divisible by all \(q\in \mathcal{D}_I(A;M/2(\log N)^{1/100})\). </p>
</li>
</ol>
</li>
</ol>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000211">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▼</span>
  </div>
  <div class="proof_content">
  <p> Let \(I\) be any interval of length \(\leq MN^{-2/(\log \log N)}\), and let \(A_I\) be those \(n\in A\) that divide some element of \(I\), and \(\mathcal{D}=\mathcal{D}_I(A;M/2(\log N)^{1/100})\). We may assume that \(\left\lvert A\backslash A_I\right\rvert {\lt} M/\log N\). </p>
<p>Let \(\mathcal{E}\) be the set of those \(q\in \mathcal{Q}_A\) such that \(R(A_I;q){\gt} 1/2(\log N)^{1/100}\), so that by Lemma&#160;<a href="chap-techprop.html#lem:good_d">6.2</a> we have \(\mathcal{D}\subset \mathcal{E}\). By Lemma&#160;<a href="chap-techprop.html#lem:find_multiples">6.1</a> for each \(q\in \mathcal{E}\) there exists \(x_q\in I\) such that \(q\mid x_q\) and </p>
<div class="displaymath" id="a0000000217">
  \[ \sum _{\substack {r\mid x_q\\ r\in \mathcal{Q}_A}}\frac{1}{r}\geq 0.35\log \log N. \]
</div>
<p>Let \(X=\{ x_q : q\in \mathcal{E}\} \). Suppose that \(\left\lvert X\right\rvert \geq 3\), and say \(x,y,z\in X\) are three distinct elements. Then </p>
<div class="displaymath" id="a0000000218">
  \[ \sum _{q\in \mathcal{Q}_A}\frac{1}{q}\geq \sum _{\substack {q\mid x\\ q\in \mathcal{Q}_A}}\frac{1}{q}+\sum _{\substack {q\mid y\\ q\in \mathcal{Q}_A}}\frac{1}{q}+\sum _{\substack {q\mid z\\ q\in \mathcal{Q}_A}}\frac{1}{q}-\sum _{q\mid (x,y)}\frac{1}{q}-\sum _{q\mid (y,z)}\frac{1}{q}-\sum _{q\mid (x,z)}\frac{1}{q}, \]
</div>
<p> where the last three sums are restricted to prime powers. </p>
<p>Since \(\sum _{q\in \mathcal{Q}_A}\frac{1}{q}\leq (1+o(1))\log \log N\leq 1.01\log \log N\), say, by Lemma&#160;<a href="chap-basic.html#lem:mertens1">2.6</a>, it follows that </p>
<div class="displaymath" id="a0000000219">
  \[ \sum _{q\mid (x,y)}\frac{1}{q}+\sum _{q\mid (y,z)}\frac{1}{q}+\sum _{q\mid (x,z)}\frac{1}{q}\geq 0.04\log \log N. \]
</div>
<p>But since \(x,y\in I\) we have, by Lemma&#160;<a href="chap-techlemmas.html#lem:basic">5.1</a>, </p>
<div class="displaymath" id="a0000000220">
  \[ \sum _{q\mid (x,y)}\frac{1}{q}\ll \log \log \log N, \]
</div>
<p> and similarly for the other sums, and so the left-hand side is \(O(\log \log \log N)\), which is a contradiction for large enough \(N\). </p>
<p>Therefore \(\left\lvert X\right\rvert \leq 2\). If \(\mathcal{D}\) is empty the second conclusion trivially holds, and therefore we may assume there is some \(q\in \mathcal{E}\) and hence some \(x_q\in X\), so \(\left\lvert X\right\rvert \geq 1\). If \(\left\lvert X\right\rvert =1\) then we are in the second conclusion, letting \(x\) be the unique element of \(X\), since by construction \(x=x_q\) for all \(q\in \mathcal{D}\), and hence in particular \(q\mid x\) for all \(q\in \mathcal{D}_I\) as required. </p>
<p>Finally, we deal with the case \(\left\lvert X\right\rvert =2\). Say \(X=\{ w_1,w_2\} \) with \(w_1\neq w_2\) (and both are elements of \(I\)). Let \(A^{(i)}=\{ n\in A: n\mid w_i\} \) and \(A^{(0)}=A\backslash (A^{(1)}\cup A^{(2)})\). Without loss of generality, label the \(w_i\) such that \(R(A^{(1)})\geq R(A^{(2)})\). Suppose first that \(R(A^{(0)}){\lt}R(A)/3\). In this case, since \(R(A^{(0)})+R(A^{(1)})+R(A^{(2)})\geq R(A)\), we have \(R(A^{(1)})\geq R(A)/3\). Furthermore, note that </p>
<div class="displaymath" id="a0000000221">
  \[ \sum _{\substack {q\mid w_1\\ q\in \mathcal{Q}_A}}\frac{1}{q}\leq \sum _{q\leq N}\frac{1}{q}-\sum _{\substack {q\mid w_2\\ q\in \mathcal{Q}_A}}\frac{1}{q}+\sum _{q\mid (w_1,w_2)}\frac{1}{q}. \]
</div>
<p> As above, by Lemma&#160;<a href="chap-basic.html#lem:mertens1">2.6</a>, the assumed lower bound on the sum over \(q\mid w_2\), and Lemma&#160;<a href="chap-techlemmas.html#lem:basic">5.1</a>, for sufficiently large \(N\) the right-hand side is </p>
<div class="displaymath" id="a0000000222">
  \[ \leq \left( 1.01-0.35+0.01\right)\log \log N\leq \tfrac {2}{3}\log \log N. \]
</div>
<p> Every \(q\mid \mathcal{Q}_{A^{(1)}}\) is in \(\mathcal{Q}_A\) and divides \(w_1\), and hence </p>
<div class="displaymath" id="a0000000223">
  \[ \sum _{q\in \mathcal{Q}_{A^{(1)}}}\frac{1}{q}\leq \frac{2}{3}\log \log N, \]
</div>
<p> and we are in case (1) with \(B=A^{(1)}\). </p>
<p>Finally, suppose that \(R(A^{(0)})\geq R(A)/3\). We will derive a contradiction, assuming \(N\) is large enough. Let \(A'\subset A^{(0)}\) be the set of those \(n\in A_I\cap A^{(0)}\) such that if \(n\in A_q\) then \(q\in \mathcal{E}\). By definition of \(\mathcal{E}\) and Mertens’ estimate <a href="chap-basic.html#lem:mertens1">2.6</a>, and the earlier assumption that \(\left\lvert A\backslash A_I\right\rvert {\lt}M/\log N\), </p>
<div class="displaymath" id="a0000000224">
  \[ R(A^{(0)}\backslash A')\leq \frac{\left\lvert A\backslash A_I\right\rvert }{M}+\sum _{q\in \mathcal{Q}_A\backslash \mathcal{E}}\frac{1}{q}R(A_I;q)\ll \frac{\log \log N}{(\log N)^{1/100}}, \]
</div>
<p> and so in particular, since \(R(A)\geq (\log N)^{-1/101}\), we have \(R(A')\gg (\log N)^{-1/101}\). </p>
<p>In particular, \(\left\lvert A'\right\rvert \gg M/(\log N)^{-1/101}\). Every \(n\in A'\) divides some \(x\in I\), and there are at most \(MN^{-2/\log \log N}\) many \(x\in I\), so by the pigeonhole principle there must exist some \(x\in I\) (necessarily \(x\neq w_1\) and \(x\neq w_2\) since \(A'\subset A^{(0)}\)) such that, if \(A''=\{  n\in A' : n\mid x\} \), then </p>
<div class="displaymath" id="a0000000225">
  \[ \left\lvert A''\right\rvert \gg N^{2/\log \log N}(\log N)^{-1/101}, \]
</div>
<p> and hence \(\left\lvert A''\right\rvert \geq N^{3/2\log \log N}\), say, assuming \(N\) is sufficiently large. </p>
<p>However, if \(n\in A''\) then both \(n\mid x\) and \(n\mid w_1w_2\) (since every \(q\) with \(n\in A_q\) is in \(\mathcal{E}\) and so divides either \(w_1\) or \(w_2\)), and hence \(n\) divides </p>
<div class="displaymath" id="a0000000226">
  \[ (x,w_1w_2)\leq (x,w_1)(x,w_2)\leq \left\lvert x-w_1\right\rvert \left\lvert x-w_2\right\rvert \leq N^2. \]
</div>
<p> Therefore the size of \(A''\) is at most the number of divisors of some fixed integer \(m\leq N^2\), which is at most \(N^{(1+o(1))2\log 2/\log \log N}\) by Lemma&#160;<a href="chap-basic.html#lem:divisor_bound">2.5</a>, and hence we have a contradiction for large enough \(N\), since \(2\log 2{\lt} 3/2\). </p>

  </div>
</div>
<p><div class="proposition_thmwrapper" id="prop:tech_iterative2">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">6.4</span>
    ✓
    <div class="thm_icons">
    <a class="icon proof" href="chap-techprop.html#prop:tech_iterative2">#</a>
    <a class="icon proof" href="chap-techprop.html#a0000000227"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal lean">L∃∀N</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/b-mehta/unit-fractions//blob/e90689f444730a64cbfa3972fa79075a0dd18981/src/main_results.lean#L519">force_good_properties2</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="proposition_thmcontent">
  <p>  Suppose \(N\) is sufficiently large and \(N\geq M\geq N^{1/2}\), and suppose that \(A\subset [M,N]\) is a set of integers such that </p>
<div class="displaymath" id="a0000000228">
  \[ \tfrac {99}{100}\log \log N\leq \omega (n)\leq 2\log \log N\quad \textrm{for all}\quad n\in A, \]
</div>
<p> and, for all \(q\in \mathcal{Q}_A\), </p>
<div class="displaymath" id="a0000000229">
  \[ R(A;q) \geq (\log N)^{-1/100}, \]
</div>
<p> and \(\sum _{q\in \mathcal{Q}_A}\frac{1}{q}\leq \frac{2}{3}\log \log N\). Then for any interval of length \(\leq MN^{-2/(\log \log N)}\), either </p>
<ol class="enumerate">
  <li><div class="displaymath" id="a0000000230">
  \[ \#  \{  n\in A : \textrm{no element of }I\textrm{ is divisible by }n\} \geq M/\log N, \]
</div>
<p> or </p>
</li>
  <li><p>there is some \(x\in I\) divisible by all \(q\in \mathcal{D}_I(A;M/2(\log N)^{1/100})\). </p>
</li>
</ol>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000227">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▼</span>
  </div>
  <div class="proof_content">
  <p> Let \(I\) be any interval of length \(\leq MN^{-2/(\log \log N)}\), and let \(A_I\) be those \(n\in A\) that divide some element of \(I\), and \(\mathcal{D}=\mathcal{D}_I(A;M/2q(\log N)^{1/00})\). We may assume that \(\left\lvert A\backslash A_I\right\rvert {\lt} M/\log N\). </p>
<p>By Lemmas&#160;<a href="chap-techprop.html#lem:find_multiples">6.1</a> and <a href="chap-techprop.html#lem:good_d">6.2</a> for each \(q\in \mathcal{D}\) there exists \(x_q\in I\) such that \(q\mid x_q\) and </p>
<div class="displaymath" id="a0000000231">
  \[ \sum _{\substack {r\mid x_q\\ r\in \mathcal{Q}_A}}\frac{1}{r}\geq 0.35\log \log N. \]
</div>
<p>Let \(X=\{ x_q : q\in \mathcal{D}\} \). Suppose that \(\left\lvert X\right\rvert \geq 2\), and say \(x,y\in X\) are two distinct elements. Then </p>
<div class="displaymath" id="a0000000232">
  \[ \sum _{q\in \mathcal{Q}_A}\frac{1}{q}\geq \sum _{\substack {q\mid x\\ q\in \mathcal{Q}_A}}\frac{1}{q}+\sum _{\substack {q\mid y\\ q\in \mathcal{Q}_A}}\frac{1}{q}-\sum _{q\mid (x,y)}\frac{1}{q}, \]
</div>
<p> where the third sum is restricted to prime powers. Using our assumed bounds, this implies </p>
<div class="displaymath" id="a0000000233">
  \[ \sum _{q\mid (x,y)}\frac{1}{q}\geq \left( 0.7-\frac{2}{3}\right)\log \log N\geq \frac{1}{100}\log \log N, \]
</div>
<p> say. </p>
<p>But since \(x,y\in I\) we have, by Lemma&#160;<a href="chap-techlemmas.html#lem:basic">5.1</a>, </p>
<div class="displaymath" id="a0000000234">
  \[ \sum _{q\mid (x,y)}\frac{1}{q}\ll \log \log \log N, \]
</div>
<p> which is a contradiction for large enough \(N\). </p>
<p>Therefore \(\left\lvert X\right\rvert \leq 1\). If \(\mathcal{D}\) is empty then the second conclusion trivially holds, for any \(x\in I\). Therefore there exists some \(q\in \mathcal{D}\), therefore there exists some \(x_q\in X\), and hence \(\left\lvert X\right\rvert =1\). Let \(x\in I\) be the unique element of \(X\). By construction \(x=x_q\) for all \(q\in \mathcal{D}\), and hence in particular \(q\mid x\) for all \(q\in \mathcal{D}_I\) as required. </p>

  </div>
</div>
<p><div class="lemma_thmwrapper" id="lem:techmainprec">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">6.5</span>
    ✓
    <div class="thm_icons">
    <a class="icon proof" href="chap-techprop.html#lem:techmainprec">#</a>
    <a class="icon proof" href="chap-techprop.html#a0000000235"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal lean">L∃∀N</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/b-mehta/unit-fractions//blob/e90689f444730a64cbfa3972fa79075a0dd18981/src/main_results.lean#L1019">main_tech_lemma</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>  Let \(N\) be sufficiently large. Let \(\epsilon ,y,w,M\) be reals such that \(M{\lt}N\) and \(2\leq \lceil y\rceil \leq \lfloor w\rfloor \) and \(1/M{\lt} \epsilon \log \log N\) and \(\frac{2}{w^2}\geq 3\epsilon \log \log N\) and let \(A\subset [M,N]\) be such that </p>
<ol class="enumerate">
  <li><p>\(R(A)\geq 2/y+2\epsilon \log \log N\), </p>
</li>
  <li><p>every \(n\in A\) is divisible by some \(d\in [y,w]\), </p>
</li>
  <li><p>if \(q\in \mathcal{Q}_A\) then \(q\leq \epsilon M\). </p>
</li>
</ol>
<p> Then there exists some \(\emptyset \neq A'\subseteq A\) and \(d\in [y,w]\) such that \(R(A')\in [2/d-1/M,2/d)\), for all \(q\in \mathcal{Q}_{A'}\) we have \(R(A';q){\gt}\epsilon \), and there is a multiple of \(d\) in \(A'\), and there are no multiples of any \(m\in [y,d)\) in \(A\). </p>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000235">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▼</span>
  </div>
  <div class="proof_content">
  <p> In the proof below, we write \(t_i=\min (\lceil y\rceil +i, \lfloor w\rfloor )\) for all integer \(i\geq 0\) for simplicity. It is convenient to note at the outset that \(t_0=\lceil y\rceil \), \(t_i\leq w\) for all \(i\), for all \(i\geq 0\) we have \(t_{i+1}\in [t_i,t_i+1]\), and if \(t_i{\lt} \lfloor w\rfloor \) then \(t_{i+1}=t_i+1\). Furthermore, if \(i\geq \lfloor w\rfloor -\lceil y\rceil \), then \(t_i=\lfloor w\rfloor \). </p>
<p>We will prove by induction on \(i\) that, under the same hypotheses as in the lemma, for all \(0\leq i\) there exists \( A_i\subseteq A\) and integer \(d_i\) with \(y\leq d_i\leq t_i\) such that </p>
<ol class="enumerate">
  <li><p>\(R(A_i) \in [2/d_i-1/M, 2/d_i)\), </p>
</li>
  <li><p>for all \(q\in \mathcal{Q}_{A_i}\) we have \(R(A_i;q){\gt} \epsilon \), </p>
</li>
  <li><p>there are no multiples of any \(m\in [y,d_i)\) in \(A\), and </p>
</li>
  <li><p>either there exists a multiple of \(d_i\) in \(A_i\), or nothing in \(A_i\) is divisible by any \(d\in [y,t_i]\). </p>
</li>
</ol>
<p>Given this inductive claim, the lemma follows by letting \(A' = A_{\lfloor w\rfloor -\lceil y\rceil }\) and \(d=d_{\lfloor w\rfloor -\lceil y\rceil }\), so that then \(t_{\lfloor w\rfloor -\lceil y\rceil }=\lfloor w\rfloor \), noting that the assumptions imply that \(2/d-1/M\geq 2/w-1/M{\gt}0\) and hence \(R(A'){\gt}0\) and so \(A'\neq \emptyset \), and furthermore by assumption the second alternative of point (3) cannot hold. It remains to prove the inductive claim. </p>
<p>For the base case \(i=0\), we set \(d_0=\lceil y\rceil \) and apply Lemma&#160;<a href="chap-techlemmas.html#lem:pisq">5.6</a> with \(\alpha =2/d_0\) to find some \(A_0\subseteq A\) such that \(R(A_0)\in [2/d_0-1/M,2/d_0)\) and for all \(q\in \mathcal{Q}_{A_0}\) we have \(\epsilon {\lt} R(A_0;q)\). (To see that point (4) holds, note that \(d_0\) is the unique integer in \([y,t_0]\).) </p>
<p>For the inductive step, suppose that \(A_i,d_i\) are as given for \(i\geq 0\). If there exists a multiple of \(d_i\) in \(A_i\), then we set \(d_{i+1}=d_i\) and \(A_{i+1}=A_i\). </p>
<p>If not, then nothing in \(A_i\) is divisible by any \(d\in [y,t_i]\). We now set \(d_{i+1}=t_{i+1}\) and apply Lemma&#160;<a href="chap-techlemmas.html#lem:pisq">5.6</a> to \(A_i\) with \(\alpha =2/d_{i+1}\). To be able to apply this, we need to verify that </p>
<div class="displaymath" id="a0000000236">
  \[ \alpha =2/d_{i+1}{\gt} 4\epsilon \log \log N \]
</div>
<p> and </p>
<div class="displaymath" id="a0000000237">
  \[ R(A_i)\geq \alpha +2\epsilon \log \log N= 2/d_{i+1}+2\epsilon \log \log N. \]
</div>
<p> For the first, we note that \(d_{i+1}\leq w\), and hence we are done since \(2/w{\gt}4/w^2\geq 6\epsilon \log \log N\). </p>
<p>For the second, we note that by assumption, every \(n\in A\) is divisible by some \(d\in [y,w]\), and hence since we are assuming that nothing in \(A_i\) is divisible by any \(d\in [y,t_i]\), we must have \(t_i{\lt}\lfloor w\rfloor \), and hence \(d_{i+1}=t_{i+1}=t_i+1\geq d_i+1\). Therefore </p>
<div class="displaymath" id="a0000000238">
  \[ R(A_i)\geq \frac{2}{d_i}-\frac{1}{M}\geq \frac{2}{d_{i+1}-1}-\frac{1}{M}\geq \frac{2}{d_{i+1}-1}-\epsilon \log \log N, \]
</div>
<p> since \(1/M \leq \epsilon \log \log N\), and furthermore </p>
<div class="displaymath" id="a0000000239">
  \[ \frac{2}{d_{i+1}-1}-\frac{2}{d_{i+1}}=\frac{2}{d_{i+1}(d_{i+1}-1)}\geq \frac{2}{d_{i+1}^2}\geq \frac{2}{w^2}\geq 3\epsilon \log \log N, \]
</div>
<p> and hence \(R(A_i)\geq \alpha +2\epsilon \log \log N\) as required. </p>
<p>Thus we can apply Lemma&#160;<a href="chap-techlemmas.html#lem:pisq">5.6</a>, to produce some \(A_{i+1}\subseteq A_i\) such that \(R(A_{i+1})\in [2/d_{i+1}-1/M,2/d_{i+1})\), such that for all \(q\in \mathcal{Q}_{A_{i+1}}\) we have \(R(A_{i+1};q){\gt}\epsilon \). Furthermore, if there is something in \(A_{i+1}\) divisible by some \(d\in [y,t_{i+1}]\), then since \(A_{i+1}\subseteq A_i\) there must be something in \(A_{i+1}\) divisible by some \(d\in [y,t_{i+1}]\backslash [y,t_i]\). Since \(t_{i+1}\in [t_i,t_i+1]\), the only integer that could be in \([y,t_{i+1}]\backslash [y,t_i]\) is \(t_{i+1}=d_{i+1}\), and the proof is complete. </p>

  </div>
</div>
<p><div class="proposition_thmwrapper" id="prop:techmain">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">6.6</span>
    <span class="proposition_thmtitle">Main Technical Proposition</span>
    ✓
    <div class="thm_icons">
    <a class="icon proof" href="chap-techprop.html#prop:techmain">#</a>
    <a class="icon proof" href="chap-techprop.html#a0000000240"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal lean">L∃∀N</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/b-mehta/unit-fractions//blob/e90689f444730a64cbfa3972fa79075a0dd18981/src/main_results.lean#L1528">technical_prop</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="proposition_thmcontent">
  <p>  Let \(N\) be sufficiently large. Suppose \(A\subset [N^{1-1/\log \log N},N]\) and \(1\leq y\leq z\leq (\log N)^{1/500}\) are such that </p>
<ol class="enumerate">
  <li><p>\(R(A)\geq 2/y+(\log N)^{-1/200}\), </p>
</li>
  <li><p>every \(n\in A\) is divisible by some \(d_1\) and \(d_2\) where \(y\leq d_1\) and \(4d_1\leq d_2\leq z\), </p>
</li>
  <li><p>every prime power \(q\) dividing some \(n\in A\) satisfies \(q\leq N^{1-6/\log \log N}\), and </p>
</li>
  <li><p>every \(n\in A\) satisfies </p>
<div class="displaymath" id="a0000000241">
  \[ \tfrac {99}{100}\log \log N\leq \omega (n) \leq 2\log \log N. \]
</div>
</li>
</ol>
<p> There is some \(S\subset A\) such that \(R(S)=1/d\) for some \(d\in [y,z]\). </p>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000240">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▼</span>
  </div>
  <div class="proof_content">
  <p> Let \(M=N^{1-1/\log \log N}\). Apply Lemma&#160;<a href="chap-techprop.html#lem:techmainprec">6.5</a> with \(w=z/4\) and \(\epsilon =N^{-5/\log \log N}\) to find some corresponding \(A'\) and \(d\). </p>
<p>Suppose first that case (2) of Proposition&#160;<a href="chap-techprop.html#prop:tech_iterative">6.3</a> holds for \(A'\). The hypotheses of Proposition&#160;<a href="chap-fourier.html#prop:fourier">4.22</a> are now met with \(k=d\), \(\eta =1/2(\log N)^{1/100}\), and \(K=MN^{-2/\log \log N}\). This yields some \(S\subset A'\subset A\) such that \(R(S)=1/d_j\) as required. </p>
<p>Otherwise, Proposition&#160;<a href="chap-techprop.html#prop:tech_iterative">6.3</a> yields some \(B\subset A'\) such that </p>
<div class="displaymath" id="a0000000242">
  \[ R(B)\geq 2/3d_j-1/M\geq 1/2d_j+(\log N)^{-1/200} \]
</div>
<p> and where \(\sum _{q\in \mathcal{Q}_B}\frac{1}{q}\leq \frac{2}{3}\log \log N\). </p>
<p>We apply Lemma&#160;<a href="chap-techprop.html#lem:techmainprec">6.5</a> again, with \(y=4d\) and \(w=z\), to produce some corresponding \(B'\subset B\) and \(d'\in [4d,z]\). Since \(\sum _{q\in \mathcal{Q}_{B'}}\frac{1}{q}\leq \sum _{q\in \mathcal{Q}_B}\frac{1}{q}\leq \frac{2}{3}\log \log N\) we can apply Proposition&#160;<a href="chap-techprop.html#prop:tech_iterative2">6.4</a>. The hypotheses of Proposition&#160;<a href="chap-fourier.html#prop:fourier">4.22</a> are now met with \(k=d'\) and \(\eta ,K\) as above, and thus there is some \(S\subset B'\subset A\) such that \(R(S)=1/d'\) as required. </p>

  </div>
</div>

</div> <!--main-text -->
</div> <!-- content-wrapper -->
</div> <!-- content -->
</div> <!-- wrapper -->

<nav class="prev_up_next">
  <svg  id="showmore-minus" class="icon icon-eye-minus showmore"><use xlink:href="symbol-defs.svg#icon-eye-minus"></use></svg>

  <svg  id="showmore-plus" class="icon icon-eye-plus showmore"><use xlink:href="symbol-defs.svg#icon-eye-plus"></use></svg>

  <a href="chap-techlemmas.html" title="Technical Lemmas"><svg  class="icon icon-arrow-left "><use xlink:href="symbol-defs.svg#icon-arrow-left"></use></svg>
</a>
  <a href="index.html" title="Unit Fractions"><svg  class="icon icon-arrow-up "><use xlink:href="symbol-defs.svg#icon-arrow-up"></use></svg>
</a>
</nav>

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/plastex.js"></script>
<script type="text/javascript" src="js/svgxuse.js"></script>
<script type="text/javascript" src="js/js.cookie.min.js"></script>
<script type="text/javascript" src="js/showmore.js"></script>
</body>
</html>